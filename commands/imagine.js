import fetch from "node-fetch";

export default {
  name: "imagine",
  description: "Generate an AI image using Pollinations API (Free, No Key)",
  async execute(sock, msg, args) {
    const from = msg.key.remoteJid;
    const prompt = args.join(" ");

    if (!prompt) {
      return sock.sendMessage(
        from,
        {
          text: `
ğŸ¨ *AI Image Generator - NexOra*

ğŸ’¡ Usage:
.imagine <prompt>

ğŸ§  Example:
.imagine a cyberpunk fox wearing sunglasses
          `.trim(),
        },
        { quoted: msg }
      );
    }

    const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}`;

    await sock.sendMessage(
      from,
      {
        image: { url: imageUrl },
        caption: `
âœ¨ *AI Image Generated by NexOra ğŸ¤–*
ğŸ§  Prompt: ${prompt}
ğŸŒ Source: NexOra 
        `.trim(),
      },
      { quoted: msg }
    );
  },
};
